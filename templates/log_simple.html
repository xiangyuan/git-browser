<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title>{{ repo_name }} - Log</title>
    <link rel="stylesheet" href="/statics/style.css?v=4">
    <script src="/statics/app.js?v=4" defer></script>
</head>
<body data-repo-name="{{ repo_name }}">
    <header>
        <h1><a href="/">index</a> : {{ repo_name }}</h1>
    </header>
    
    <!-- Global Branch Comparison Selector -->
    <div class="branch-selector-toolbar">
        <form action="/{{ repo_name }}/diff-beta" method="get" class="branch-selector-form">
            <span class="branch-selector-label">ðŸ”€ Compare branches:</span>
            <select id="from-branch" name="o" class="branch-selector-select">
                {% for branch in all_branches %}
                <option value="{{ branch }}">{{ branch }}</option>
                {% endfor %}
            </select>
            <span class="branch-selector-arrow">â†’</span>
            <select id="to-branch" name="n" class="branch-selector-select">
                {% for branch in all_branches %}
                <option value="{{ branch }}">{{ branch }}</option>
                {% endfor %}
            </select>
            <button type="submit" class="btn-compare">Compare</button>
            <button type="button" onclick="swapBranches()" class="btn-swap">â‡„ Swap</button>
        </form>
    </div>
    
    <nav>
        <a href="/{{ repo_name }}/summary">summary</a>
        <a href="/{{ repo_name }}/log" class="active">log</a>
        <a href="/{{ repo_name }}/commit">commit</a>
    </nav>
    <main>
        <h2>Commit Log{% if let Some(br) = &branch %} - {{ br }}{% endif %}</h2>
        <table class="repositories">
            <thead>
                <tr>
                    <th>Time</th>
                    <th>Commit message</th>
                    <th>Author</th>
                    <th>Hash</th>
                </tr>
            </thead>
            <tbody>
                {% for commit in commits %}
                <tr>
                    <td class="timeago" datetime="{{ commit.committer_time }}">{{ commit.committer_time }}</td>
                    <td><a href="/{{ repo_name }}/commit?id={{ commit.sha }}">{{ commit.summary }}</a></td>
                    <td>{{ commit.author_name }}</td>
                    <td>{{ commit.sha_short }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% if has_more %}
        <p><a href="?{% if let Some(br) = &branch %}br={{ br }}&{% endif %}ofs={{ next_offset }}">[next]</a></p>
        {% endif %}
    </main>
</body>
</html>
