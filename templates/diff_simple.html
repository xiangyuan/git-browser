<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ repo_name }} - Diff</title>
    <link rel="stylesheet" href="/statics/style.css">
</head>
<body>
    <header>
        <h1><a href="/">index</a> : {{ repo_name }}</h1>
    </header>
    <nav>
        <a href="/{{ repo_name }}/summary">summary</a>
        <a href="/{{ repo_name }}/log">log</a>
        <a href="/{{ repo_name }}/commit">commit</a>
        {% for link in links %}
        <a href="/{{ repo_name }}/diff-beta?o={{ link.from_branch }}&n={{ link.to_branch }}" {% if link.active %}class="active"{% endif %}>{{ link.name }}</a>
        {% endfor %}
    </nav>
    <main>
        <h2>Branch Comparison</h2>
        <div style="padding: 1em; background: #f6f8fa; border-radius: 4px; margin-bottom: 1em;">
            <p style="margin: 0;">
                <strong>Base:</strong> <code>{{ from_branch }}</code> (old branch)<br>
                <strong>Compare:</strong> <code>{{ to_branch }}</code> (new branch)<br>
                <em>Showing commits in {{ from_branch }} that are NOT in {{ to_branch }}</em>
            </p>
            <p style="margin: 0.5em 0 0 0;">
                <a href="/{{ repo_name }}/diff-beta?o={{ from_branch }}&n={{ to_branch }}" style="font-size: 0.9em;">
                    ⇄  comparison ({{ from_branch }} ← {{ to_branch }})
                </a>
            </p>
        </div>
        {% if commits.is_empty() %}
        <p class="no-diff" style="padding: 2em; text-align: center; color: #28a745;">
            ✓ No new commits in {{ to_branch }} - branches are in sync or {{ from_branch }} is ahead
        </p>
        {% else %}
        <p style="padding: 0.5em; background: #fff3cd; border-left: 3px solid #ffc107;">
            Found <strong>{{ commits.len() }}</strong> commits
        </p>
        <table class="repositories">
            <thead>
                <tr>
                    <th>Time</th>
                    <th>Message</th>
                    <th>Author</th>
                    <th>Hash</th>
                </tr>
            </thead>
            <tbody>
                {% for commit in commits %}
                <tr>
                    <td>{{ commit.committer_time }}</td>
                    <td><a href="/{{ repo_name }}/commit?id={{ commit.sha }}">{{ commit.summary }}</a></td>
                    <td>{{ commit.author_name }}</td>
                    <td><a href="/{{ repo_name }}/commit?id={{ commit.sha }}">{{ commit.sha_short }}</a></td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% endif %}
    </main>
</body>
</html>
